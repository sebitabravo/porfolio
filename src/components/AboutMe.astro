---
// AboutMe.astro - Componente de la secci√≥n "Sobre m√≠"
import MailOutline from "./icons/MailOutline.astro";
import Copy from "./icons/Copy.astro";
---

<section id="sobre-mi" class="py-24 bg-transparent">
  <div class="container mx-auto px-6 lg:px-8">
    <!-- Section Header -->
    <h2
      class="text-4xl md:text-5xl font-display font-bold text-center mb-16 flex items-center justify-center gap-4"
    >
      <span class="text-5xl md:text-6xl">üßë‚Äçüíª</span>
      <span
        class="bg-gradient-to-r from-white via-primary-200 to-primary-300 bg-clip-text text-transparent"
      >
        Sobre m√≠
      </span>
    </h2>

    <div class="max-w-6xl mx-auto">
      <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
        <!-- Image Section -->
        <div class="order-2 lg:order-1 flex justify-center">
          <div class="relative group max-w-md w-full">
            <div
              class="absolute -inset-4 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-2xl blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-300"
            >
            </div>
            <div
              class="relative bg-white dark:bg-neutral-800 p-2 rounded-2xl shadow-xl ring-1 ring-neutral-200 dark:ring-neutral-700"
            >
              <img
                src="/ProfileImage.webp"
                alt="Sebastian Bravo trabajando"
                width="400"
                height="400"
                class="w-full rounded-xl shadow-lg"
              />
            </div>
          </div>
        </div>

        <!-- Content Section -->
        <div class="order-1 lg:order-2 space-y-6">
          <div class="space-y-4">
            <p
              class="text-base md:text-lg text-neutral-700 dark:text-neutral-300 leading-relaxed"
            >
              Mi nombre es <span
                class="font-semibold text-primary-600 dark:text-primary-400"
                >Sebastian Bravo</span
              >, pero mis amigos me llaman <span
                class="font-semibold text-secondary-600 dark:text-secondary-400"
                >Seba</span
              >. Empec√© mi inter√©s por la programaci√≥n a los 17 a√±os y
              actualmente estoy en mi
              <span class="font-semibold text-neutral-900 dark:text-white"
                >tercer a√±o universitario</span
              >.
            </p>

            <p
              class="text-base md:text-lg text-neutral-700 dark:text-neutral-300 leading-relaxed"
            >
              Poseo un <span
                class="font-semibold text-primary-600 dark:text-primary-400"
                >t√≠tulo t√©cnico en telecomunicaciones</span
              > y actualmente estoy estudiando Ingenier√≠a en Inform√°tica en el Instituto
              Nacional de Capacitaci√≥n Profesional de Chile (Inacap).
            </p>

            <p
              class="text-base md:text-lg text-neutral-700 dark:text-neutral-300 leading-relaxed"
            >
              Durante mi formaci√≥n t√©cnica en telecomunicaciones, <span
                class="font-semibold text-secondary-600 dark:text-secondary-400"
                >logr√© el segundo lugar en mi curso</span
              >. Me apasiona la programaci√≥n y siempre estoy aprendiendo nuevas
              habilidades. Estoy entusiasmado por enfrentar nuevos desaf√≠os en
              este campo.
            </p>
          </div>

          <!-- Contact Section -->
          <div class="space-y-4 pt-6">
            <h3
              class="text-xl md:text-2xl font-bold text-neutral-300 flex items-center gap-3"
            >
              <span
                class="w-6 h-6 md:w-8 md:h-8 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center"
              >
                <MailOutline class="w-3 h-3 md:w-4 md:h-4 text-white" />
              </span>
              Contacto
            </h3>

            <div
              class="group relative bg-white/10 backdrop-blur-sm rounded-xl p-4 md:p-6 shadow-lg ring-1 ring-white/20 hover:bg-white/20 transition-all duration-300"
            >
              <div class="flex flex-col gap-4">
                <div class="flex items-center gap-3 md:gap-4">
                  <div
                    class="w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center flex-shrink-0"
                  >
                    <MailOutline class="w-5 h-5 md:w-6 md:h-6 text-white" />
                  </div>
                  <div class="min-w-0 flex-1">
                    <p class="text-xs md:text-sm font-medium text-neutral-400">
                      Email
                    </p>
                    <p
                      class="text-sm md:text-base font-semibold text-white break-all"
                      id="emailText"
                    >
                      sebitabravocontacto@gmail.com
                    </p>
                  </div>
                </div>

                <button
                  id="copyButton"
                  class="w-full sm:w-auto px-4 py-3 rounded-lg bg-primary-500/20 text-primary-200 hover:bg-primary-500 hover:text-white transition-all duration-300 flex items-center justify-center gap-2 border border-primary-500/30 hover:border-primary-500 font-medium"
                  onclick="copyEmail()"
                  title="Copiar email"
                >
                  <Copy
                    id="copyIcon"
                    class="w-4 h-4 transition-all duration-300"
                  />
                  <span id="copyText">Copiar Email</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  function copyEmail() {
    const email = "sebitabravocontacto@gmail.com";
    const button = document.getElementById("copyButton");
    const icon = document.getElementById("copyIcon");
    const text = document.getElementById("copyText");

    if (!button || !icon || !text) return;

    navigator.clipboard
      .writeText(email)
      .then(() => {
        // Cambiar icono por un check y texto
        icon.style.display = "none";
        text.textContent = "‚úì ¬°Copiado!";

        // Volver al estado original despu√©s de 2 segundos
        setTimeout(() => {
          icon.style.display = "block";
          text.textContent = "Copiar Email";
        }, 2000);
      })
      .catch(() => {
        // En caso de error, mostrar mensaje temporal
        const originalText = text.textContent;
        text.textContent = "Error al copiar";

        setTimeout(() => {
          text.textContent = originalText;
        }, 2000);
      });
  }

  // Hacer la funci√≥n globalmente accesible
  (window as any).copyEmail = copyEmail;
</script>
